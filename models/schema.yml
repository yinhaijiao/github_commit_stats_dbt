version: 2

metrics:
  - name: commits_count
    label: Commits Count
    model: ref('commits')
    description: "A count metric for commits"

    type: count
    type_params: {}  # 可以根据需要添加参数

    timestamp: timestamp
    time_grains: [day, week, month, year]

    dimensions:
      - author_domain
      - author_name

  - name: users_count
    label: Users Count
    model: ref('commits')
    description: "A count metric for users"

    type: count_distinct
    type_params:
      column: author_id  # 根据需要添加参数

    timestamp: timestamp
    time_grains: [day, week, month, year]

    dimensions:
      - author_domain
